</br></br></br>
<%= form_for(@micropost) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <span class="attachment">
  	<p>Upload AutoCad, Revit or Vectorworks file.</p>
  	<%= f.file_field :attachment, accept: '.dgn, .dwf, .dwg, .dst, .dwt, .dxb, .dws, .dxf, .ifc, .sat, .skp, .rvt, .adsk, .cas, .rfa, .rft, .rte, .rvg, .rvt, .slog, .smxx, .dwfx, .gbxm, .ies' %>
  </span>

  <span class="picture">
  	<p>Upload preview (jpg jpeg gif png)</p>
  	<%= f.file_field :picture, accept: 'image/jpeg, image/jpg, image/gif,image/png' %>
  </span>
  
  <div class="field">
    <%= f.text_area :content, placeholder: "Description..." %>
  </div>

	<div class="field">
		<p>Select AutoCad, Revit or Vectorworks.</p>
		<%= f.select(:tag) do %>
		  <% [['AutoCad', 'AutoCad'], ['Revit', 'Revit'], ['Vectorworks', 'Vectorworks']].each do |c| -%>
		    <%= content_tag(:option, c.first, value: c.last) %>
		  <% end %>
		<% end %> 
	</div>



  <%= f.submit "Post", class: "btn btn-primary" %>
<% end %>






<script type="text/javascript">
  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });

  $('#micropost_attachment').bind('change', function() {
    var size_in_megabytes = this.files[0]
    if (size_in_megabytes > 20) {
      alert('Maximum file size is 20MB. Please choose a smaller file.');
    }
  });
</script>